<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript - 유효 범위 (Scope)2</title>
</head>
<body>
    <h1>유효 범위 (Scope)</h1>

    <pre>
유효범위(Scope)는 변수의 수명을 의미한다. 결과는 global
var vscope = 'global';    // 전역 변수
function fscope(){
    // var vscope = 'local';    // 지역 변수
    document.write(vscope);
}
fscope();
    </pre>
    <script>
        var vscope = 'global';    // 전역 변수
        function fscope(){
            // var vscope = 'local';    // 지역 변수
            document.write(vscope);
        }
        function fscope2(){
            document.write(vscope);
        }
        fscope();
        fscope2();
    </script> 

    <pre>
함수 밖에서 변수를 선언하면 그 변수는 전역변수가 된다.
전역변수는 에플리케이션 전역에서 접근이 가능한 변수다. 어떤 함수 안에서도 그 변수에 접근 할 수 있다.
그렇기 때문에 함수 fscope 내에서 vscope를 호출 했을 때 함수 밖에서 선언된 vscope의 값 global이 반환된 것이다.
아래 예제 결과는 '함수안 local'과 '함수밖 global'이 출력된다.
var vscope = 'global';
function fscope(){
    var vscope = 'local';
    document.write('함수안 ' + vscope);
}
fscope();
document.write('함수밖 ' + vscope);
    </pre>
    <script>
        var vscope = 'global';
        function fscope(){
            var vscope = 'local';
            document.write('함수안 '+vscope);
        }
        fscope();
        document.write('함수밖 '+vscope);
    </script>



    <pre>

    </pre>
    <script>
        var vscope = 'global';
        function fscope(){
            vscope = 'local';   // var 을 사용하지 않아 변수 vscope를 재할당.
            document.write('함수안 '+vscope);
        }
        fscope();
        document.write('함수밖 '+vscope);
    </script>

    <pre>
함수밖에서도 vscope의 값이 local이다.
함수 fscope의 지역변수를 선언할 때 var를 사용하지 않았기 때문이다. 
var를 사용하지 않은 지역변수는 전역변수가 된다. vscope = 'local';는 전역변수의 값을 local로 변경하게 된 것이다.
var을 쓰는 것과 쓰지 않는 것의 차이를 이해해야 한다.

전역변수는 사용하지 않는 것이 좋다. 
여러가지 이유로 그 값이 변경될 수 있기 때문이다. 
함수 안에서 전역변수를 사용하고 있는데, 누군가에 의해서 전역변수의 값이 달라졌다면 함수의 동작도 달라지게 된다.
이것은 버그의 원인이 된다. 또한 함수를 다른 에플리케이션에 이식하는데도 어려움을 초래한다.
함수의 핵심은 로직의 재활용이라는 점을 상기하자. 변수를 선언할 때는 꼭 var을 붙이는 것을 습관화해야 한다.
전역변수를 사용해야 하는 경우라면 그것을 사용하는 이유를 명확히 알고 있을 때 사용하도록 하자.
    </pre>
    <script>

    </script>
</body>
</html>